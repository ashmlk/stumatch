{% load static %}
<!DOCTYPE html>
<html>
<head>
  <div id="#headerPlaceholder"></div>
  <style>
    .mnpglk-active svg {
      color: rgb(126, 192, 243) !important;
    }

    .mnpglk-active span {
      color: rgb(126, 192, 243) !important;
    }

    .side-tab-link-holder svg {
      color: rgb(71, 71, 71);
      margin-top: -2px;
    }

    .menu-bottom-fix {
      min-width: 3rem !important;
    }
    .main-border-l{
      border-left: solid 3px rgba(136, 136, 136, 0.144);
    }
    .side-tab-link-holder .mnpglk:hover{
      border-left: solid 3px rgb(126, 192, 243) !important;
 
    }
    .side-tab-link-holder .mnpglk:hover .col-1{
      margin-left: -3px !important;
    }

    .side-tab-link-holder .mnpglk-active {
      border-left: solid 3px rgb(126, 192, 243) !important; 
    }
    
    .side-tab-link-holder .mnpglk-active .col-1{
      margin-left: -3px !important;
    }

    .info-all .user-num {
      color:rgb(1,119,200);
      font-weight: 400 !important;
    }
    .info-all .badge {
      font-size: 0.7rem !important;
    }
    .t {
      letter-spacing: 1px !important;
    }
    #_pol3 .h6 {
      color: rgb(80, 80, 80) !important;
    }
    #_pol3 .menu-link  {
        border-radius: 8px;
      }
    .profile-header-main-links .pro-link-goto {
        margin-right: 1.2rem !important;
        font-weight: 500 !important;
        font-size: 1rem !important;
        padding-top: 10px !important;
        border-radius: 4px !important;
    }

    .profile-header-main-links .pro-link-goto .pro-link-goto-text{
        margin-bottom: -4px !important;
    }
    .profile-header-main-links .pro-link-goto:hover{
        background-color:rgb(207, 205, 205);
        cursor: pointer;
    }
    .course-title-box:hover {
        cursor: pointer !important;
        opacity: 0.8 !important;
    }
    .profile-header-main-links .pro-link-goto-active {
        border-bottom:solid 3px rgb(126, 192, 243) !important;
        margin-right: 1.2rem !important;
        font-weight: 500 !important;
        font-size: 1rem !important;
        padding-top: 10px !important;
        border-radius: none !important;
    }
    .profile-header-main-links .pro-link-goto-active:hover{
        cursor: pointer;
    }
    .profile-header-main-links .pro-link-goto-active .pro-link-goto-text {
        color: rgb(126, 192, 243);
        
        margin-bottom: -4px !important;
        
    }
    .profile-header-main-links .pro-menu-link{
        background-color: rgb(226,230,234);
    }
    .profile-header-main-links .pro-menu-link:hover{
        cursor: pointer;
        opacity: 0.8;
    }
    .pro-menu-link a{
        color: rgb(17, 17, 17);
        text-decoration: none !important;
    }
    .pro-menu-link a:hover {
        color: rgb(17, 17, 17);
    }  
    .u_pui {
        font-size: 0.9rem ;
    }
    .friends-list .card-friend-name-holder {
        font-weight: 600 !important;
        font-size: 0.85rem !important;
    }
    .u_pctr .card-header strong {
        font-size: 1.1rem;
    }
    .u_pctr .post-title-view strong {
        font-size: 1.1rem;
    }
    
  </style>
  <title>StuMatch</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
  <link
    href="https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Two+Tone|Material+Icons+Round|Material+Icons+Sharp"
    rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.6/css/selectize.css">
  <link rel="apple-touch-icon" sizes="180x180" href="{% static 'favicon_io/apple-touch-icon.png' %}">
  <link rel="icon" type="image/png" sizes="32x32" href="{% static 'favicon_io/favicon-32x32.png' %}">
  <link rel="icon" type="image/png" sizes="16x16" href="{% static 'favicon_io/favicon-16x16.png' %}">
  <link rel="manifest" href="{% static 'favicon_io/site.webmanifest' %}">
  <link rel="stylesheet" href="{% static 'EasyAutoComplete/easy-autocomplete.min.css' %}">
  <link rel="stylesheet" href="{% static 'css/main.css' %}">
</head>
<body class="pb-5" style="background-color: white !important;">
  <div id="#navPlaceholder" class="fixed-top mb-4">{% include 'home/nav.html' %}</div>
  <div class="wrapper">
    <div class="container pt-4 u_pctr">   
        <div class="row mt-5">
            <div class="mx-auto col-sm-10">
                <div class="img-user name-user mt-4 p-2">
                    <div class="d-flex justify-content-center">
                        <div>
                            <div class="pro-img">
                                <img class="img-create-post rounded-circle" style="height: 8rem;width: 8rem;" src="https://mdbootstrap.com/img/Photos/Avatars/avatar-5.jpg"/>
                            </div>
                        </div> 
                    </div>
                    <div class="f-name mt-3">
                        <div class="content-holder">
                            <h4 class="text-center text-dark">{{ user.get_full_name }}</h4>
                        </div>
                    </div>
                    <div class="mt-2 p-2 u-bio">
                        <p class="text-center text-muted">{{ user.bio }}</p>
                    </div>
                </div>
                <div class="bg-white sticky-top my-2 p-2 mb-3 profile-header-main-links d-flex justify-content-between" style="top:54px !important;">
                    <div class="options-user-r">
                        <div class="d-flex justify-content-start">
                            <div class="rounded-0 p-2 pro-link-goto{{ pro_active }}" data-url="{% url 'main:get_user' user.username %}">
                                <button class="bg-transparent no-outline no-border pro-link-goto-text">
                                    Profile
                                </button>
                            </div>
                            <form class="rounded-0 p-2 form-link-goto pro-link-goto{{ friends_active }}" action="{% url 'main:get_user_friends' %}">
                                <input type="hidden" name="id" value="{{ user.get_hashid }}"/>
                                <button type="submit" class="bg-transparent no-outline no-border pro-link-goto-text">
                                    Friends
                                </button>
                            </form>
                            <form class="rounded-0 p-2 form-link-goto pro-link-goto{{ courses_active }}" action="{% url 'main:get_user_courses' %}">
                                <input type="hidden" name="id" value="{{ user.get_hashid }}"/>
                                <button type="submit" class="bg-transparent no-outline no-border pro-link-goto-text">
                                    Courses
                                </button>
                            </form>
                            <form class="rounded-0 p-2 form-link-goto pro-link-goto{{ posts_active }}" action="{% url 'main:get_user_posts' %}">
                                <input type="hidden" name="id" value="{{ user.get_hashid }}"/>
                                <button type="submit" class="bg-transparent no-outline no-border pro-link-goto-text">
                                    Posts
                                </button>
                            </form>
                            <form class="rounded-0 p-2 form-link-goto pro-link-goto" action="{% url 'main:get_user_blogs' %}">
                                <input type="hidden" name="id" value="{{ user.get_hashid }}"/>
                                <button type="submit" class="bg-transparent no-outline no-border pro-link-goto-text">
                                    Blogs
                                </button>
                            </form>
                        </div>
                    </div>
                    <div class="editable-al-view mt-2">
                        <div class="d-flex justify-content-end">
                            <div class="btn btn-sm d-flex align-items-center mr-1">
                                {% if not requested %}
                                <div class="friend-status-ctr">
                                    {% include 'main/friends/friend_status.html' with user=user %}
                                </div>
                                {% elif requested %}
                                <div class="friend-status-ctr">
                                    {% include 'main/friends/accept_reject_request.html' with user=user %}
                                </div>
                                {% endif %}
                            </div>
                            <div>
                                <div class="dropdown">
                                    <button class="mt-1 btn btn-sm" style="background-color: rgb(226,230,234) !important;" type="button" id="d_li" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                      <i class="fas fa-ellipsis-h"></i>
                                    </button>
                                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="d_li">
                                      {% if user != request.user %}
                                      <button class="block-user-btn small dropdown-item" data-url="{% url 'main:block-user' hid=user.get_hashid %}"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi mr-1 bi-dash-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                        <path fill-rule="evenodd" d="M3.5 8a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.5-.5z"/>
                                      </svg>Block</button>
                                        <button class="small dropdown-item " data-type="reply" data-url="#"><svg width="1em" height="1em"
                                            viewBox="0 0 16 16" class="bi mr-1 bi-flag" fill="currentColor"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd"
                                              d="M3.5 1a.5.5 0 0 1 .5.5v13a.5.5 0 0 1-1 0v-13a.5.5 0 0 1 .5-.5z" />
                                            <path fill-rule="evenodd"
                                              d="M3.762 2.558C4.735 1.909 5.348 1.5 6.5 1.5c.653 0 1.139.325 1.495.562l.032.022c.391.26.646.416.973.416.168 0 .356-.042.587-.126a8.89 8.89 0 0 0 .593-.25c.058-.027.117-.053.18-.08.57-.255 1.278-.544 2.14-.544a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5c-.638 0-1.18.21-1.734.457l-.159.07c-.22.1-.453.205-.678.287A2.719 2.719 0 0 1 9 9.5c-.653 0-1.139-.325-1.495-.562l-.032-.022c-.391-.26-.646-.416-.973-.416-.833 0-1.218.246-2.223.916a.5.5 0 1 1-.515-.858C4.735 7.909 5.348 7.5 6.5 7.5c.653 0 1.139.325 1.495.562l.032.022c.391.26.646.416.973.416.168 0 .356-.042.587-.126.187-.068.376-.153.593-.25.058-.027.117-.053.18-.08.456-.204 1-.43 1.64-.512V2.543c-.433.074-.83.234-1.234.414l-.159.07c-.22.1-.453.205-.678.287A2.719 2.719 0 0 1 9 3.5c-.653 0-1.139-.325-1.495-.562l-.032-.022c-.391-.26-.646-.416-.973-.416-.833 0-1.218.246-2.223.916a.5.5 0 0 1-.554-.832l.04-.026z" />
                                          </svg>Report</button>
                                      {% endif %}
                                    </div>
                                  </div>
                            </div>
                        </div>
                    </div>
                </div>
                {% block profilecontent %}{% endblock %}
            </div>
        </div>
    </div>
  </div>
  <div class="modal fade" id="modal-profile">
    <div class="modal-dialog modal-dialog-centered" style="overflow-y: hidden !important;">
      <div class="modal-content"></div>
    </div>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.6/js/standalone/selectize.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/shortcuts/infinite.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
  <script src="{% static 'EasyAutoComplete/jquery.easy-autocomplete.min.js' %}"></script>
  <script src="https://kit.fontawesome.com/d3a3fc2f19.js" crossorigin="anonymous"></script>
  <script src="{% static 'dropzone/dist/dropzone.js' %}"></script>
  <script src="{% static 'initial/initial.js' %}"></script>
  <script src="{% static 'js/buzz/buzzall.js' %}"></script>
  <script src="{% static 'js/post/postall.js' %}"></script>
  <script src="{% static 'js/index.js' %}"></script>
  <script src="{% static 'js/buzz/buzz.js' %}"></script>
  <script src="{% static 'js/buzz/buzz-d.js' %}"></script>
  <script src="{% static 'EasyAutoComplete/jquery.easy-autocomplete.min.js' %}"></script>
  <script>
       $(document).ready(function (e) {
            e.preventDefault();
            var infinite = new Waypoint.Infinite({
                element: $('.infinite-container')[0],
                onBeforePageLoad: function () {
                    $('.loading').show();
                },
                onAfterPageLoad: function ($items) {
                    $('.loading').hide();
                }
            });
        })
        $(document).ready(function () {
            var btn;
            $(document).on("click", '.accept-reject-btn', function (e) {
                btn = $(this)
                e.preventDefault();
                $.ajax({
                    type: "POST",
                    url: $(this).attr("data-url"),
                    dataType: 'json',
                    data: $(this).closest('form').serialize(),
                    success: function (data) {
                        $(btn).closest(".friend-status-ctr").html(data.html_form);
                    },
                    error: function (rs, e) {
                        console.log(rs.responeText);
                    },
                });
            });
        })

        $(document).ready(function () {
            var btn;
            $(document).on("click", '.btn-all-status', function (e) {
                btn = $(this)
                e.preventDefault();
                $.ajax({
                    type: "POST",
                    url: $(this).attr("data-url"),
                    dataType: 'json',
                    data: $(this).closest('form').serialize(),
                    success: function (data) {
                        $(btn).closest(".friend-status-ctr").html(data.html_form);
                    },
                    error: function (rs, e) {
                        console.log(rs.responeText);
                    },
                });
            });

            ('mngpl').on('click', function () {
                window.location = $(this).find('a').attr('href');
            })
        })
      $(document).ready(function () {

          $('.pro-menu-link').on('click', function () {
              window.location = $(this).attr('data-url');
          })
          $('.pro-link-goto').on('click', function () {
              if(!($(this).hasClass('form-link-goto'))){
                window.location = $(this).attr('data-url');
              }
              else if($(this).hasClass('form-link-goto')){
                  $(this).submit();
              }

          })
          $('.pro-link-goto-active').on('click', function () {
            if(!($(this).hasClass('form-link-goto'))){
                window.location = $(this).attr('data-url');
              }
              else if($(this).hasClass('form-link-goto')){
                  $(this).submit();
              }
          })
      })

    // blocking user modal and form page
    $(document).ready(function (e) {
        $(document).on("click",".block-user-btn", function (e) {
            e.stopImmediatePropagation();
            var btn = $(this);
            $.ajax({
                url: btn.attr("data-url"),
                type: 'get',
                dataType:'json',
                beforeSend: function(){
                    $('#modal-profile').modal('show');
                },
                success: function(data){
                    $('#modal-profile .modal-content').html(data.html_form);
                }
            });
        });
        $('#modal-profile').on("submit",".block-user-form",function (e){
            e.preventDefault();
            e.stopImmediatePropagation();
            var form = new FormData(this);
            $.ajax({
                url: $(this).attr('data-url'),
                type: $(this).attr('method'),
                data: form,
                cache: false,
                processData: false,
                contentType: false,
                dataType: 'json',
                success: function(data){
                    $('#modal-profile').modal('hide');
                    $('body').removeClass('modal-open');
                    $('.modal-backdrop').remove();                    
                }
            })
        });
    });
  </script>
</body>
</html>