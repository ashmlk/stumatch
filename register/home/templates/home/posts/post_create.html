{% load crispy_forms_tags %}
{% load static %}
<form method="POST" data-url="{% url 'home:post-create' %}" class="post-create-form" enctype="multipart/form-data">
	{% csrf_token %}
		<div class="modal-header">
			<h5 class="modal-title" >Create a Post</h5>
			<button type="button" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			</button>
		</div>
	<div class="modal-body" style="overflow-y: auto;">
		{{ form|crispy }}
		<button type="button" id="show-image-upload-inputs" class="btn btn-sm mr-auto btn-primary pb-1">
			<span><i class="fas fa-camera"></i></span>
		</button>
		<div id="image-upload-div" class="mt-1" style="display: none;">
			<hr class="my-2">
			{{ formset }}
			<p class="mx-2 text-muted small">Add up to four images to your post</p>
				<div class="d-flex flex-row justify-content-between px-1">
					<div id="img-0-content">
						<div id="file-0" class="add-image" onclick="open_input('id_form-0-image'); ap_img_to_div('file-0','id_form-0-image');"><i class="mt-2 fas fa-plus fa-6x"></i></div>
					</div>
					<div id="img-1-content">
						<div id="file-1" class="add-image" onclick="open_input('id_form-1-image'); ap_img_to_div('file-1','id_form-1-image');"><i class="mt-2 fas fa-plus fa-6x"></i></div>
					</div>
					<div id="img-2-content">
						<div id="file-2" class="add-image" onclick="open_input('id_form-2-image'); ap_img_to_div('file-2','id_form-2-image');"><i class="mt-2 fas fa-plus fa-6x"></i></div>
					</div>
					<div id="img-3-content">
						<div id="file-3" class="add-image" onclick="open_input('id_form-3-image'); ap_img_to_div('file-3','id_form-3-image');"><i class="mt-2 fas fa-plus fa-6x"></i></div>
					</div>					
				</div>
		</div>
	</div>
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
		<button type="submit" class="btn btn-primary">Post</button>
	</div>
</form>


<style>
	input[type='file'] {
		position: absolute;
		left: -10000px;
	}
	.add-image {
		padding-left: 2px;
		cursor: pointer;
		background-color: rgb(212, 231, 238);
		border: 1em;
		width: 7em;
		height: 7em;
		text-align: center;
		opacity: 0.5;
		color:lightblue;
	}
	.add-image:hover {
		opacity: 0.7;
	}
	.modal-body {
		overflow-y: auto;
	}
</style>

			




