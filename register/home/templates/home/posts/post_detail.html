{% load crispy_forms_tags %}
{% load static %}
<style>
  .modal-body {
    min-height: calc(100vh - 510px);
    overflow-y: auto;
  }
  .post-border-div {
    border: 1px solid; 
    opacity: 0.5;
  }
</style>
<script src="{% static 'js/comment.js' %}"></script>
<div class="modal-header" style="height: 3rem;">
  {% if post.author == request.user %}  
  <button class="btn btn-sm text-muted show-form-delete" data-url="{% url 'home:post-delete' post.id %}" style="font-size: small;" style="height: 0rem;">Remove your post</button> 
  {% endif %}
  <button type="button" class="close mx-1" data-dismiss="modal" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body mx-0" style="margin: 0; padding: 0;">
  <div class="mt-3 rounded-0" style="max-width: 100rem !important;">
    <div class="card-body mb-1 text-dark">
      <div class="d-flex">
        <img class="img-create-post rounded-circle mr-2" style="width: 50px;height: 50px;" src="https://mdbootstrap.com/img/Photos/Avatars/avatar-5.jpg"
          alt="Profile image">
          <span class="align-text-top"><a class="mr-2 text-dark font-weight-bolder" href="#">{{ post.author.first_name }} {{ post.author.last_name }} </a><br><p class="font-weight-light text-muted">{{ post.title }}</p></span>
            <div class="float-right text-right ml-auto">
              <p class="text-muted small" style="font-size: 0.7rem;">{{ post.date_posted|date:"F d, Y" }}</p>
            </div>     
      </div>
      <div class="card-post-content">
        <p class="card-text">{{ post.content }}</p>
      </div>
    </div>
  </div>
  <hr class="mx-2 px-2">
    <div class="d-flex px-2 mx-2 justify-content-between">
        <a class="small" data-href='{{ post.get_api_like_url }}' data-likes='{{ post.likes.count }}' href='{{ post.get_like_url }}'><i class="fas fa-thumbs-up"></i> Like</a>
        <p class="text-muted small font-size-smaller">{{ post.likes.count }} Likes, {{ post.comments.count }} Comments</p>
    </div>
    <hr class="text-muted post-border-div">
    <div id="post-linked-comments">
      <div>
        {% include 'home/posts/post_comment.html' %}
      </div>    
    </div>
</div>
<div>
  <hr class="text-muted post-border-div">
</div>
  <div class="moda-footer justify-content-center py-1 mx-0">
    <div class="row mx-2">
      <img class="img-create-post rounded-circle ml-1 mr-1" style="width: 2.3rem;height: 2.3rem;" src="{{ request.user.image }}" alt="Profile image">
      <form method="POST" data-url="{% url 'home:post-detail' post.id %}" class="post-comment-form">
        {% csrf_token %}
          <div class="row ml-1">
          {{ form | crispy }}
          <button class="btn btn-sm ml-1 small btn-rounded btn-primary" style="height: 2.3rem;" type="submit">Add</button> 
        </div>  
      </form>     
    </div>
  </div>

  