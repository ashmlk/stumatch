{% extends 'home/courses/base.html' %}
{% load static %}
{% block content %}
{% load ibuilder %}
<link rel="stylesheet" href="{% static 'css/courses/main.css' %}">
<script src="{% static 'js/courses/course-instructor.js' %}"></script>
<div class="d-flex border-bottom justify-content-between">
    <div class="mr-2">
        <h4 class="font-weight-bolder">Professor {{ instructor|capfirst }}</h4>
        <h6 class="text-muted">{{ university|capfirst }}</h6>
    </div>
    <div>
        <img class="mb-1" src="{% static 'default/courses/instructors-char-1.png' %}" alt="Course Image" style="margin-top:-20px;height:120px;width: 100px;">
    </div>
</div>
<div class="course-list mt-1">
    {% for course in courses %}
    {% bg_rand as bgrnd %}
    <div class="card mb-2 bg-white">
        <div class="d-flex justify-content-between course-title-box"  data-url="{% url 'home:course-detail' course.course_university course.course_instructor course.course_code %}" style="height:6rem; background-color: {{ bgrnd }};">
            <div class="ml-1"> 
                <a class="mx-2 my-auto text-white"><h3 class="pt-1 font-weight-bold">{{ course.course_code }}</h3></a>
            </div>
          </div>
        <div class="row p-0">
            <div class="col-sm-12" >
                <div class="d-flex flex-column p-1">         
                    <div class="d-flex justify-content-right">
                        <div class="border p-1 border-rounded shadow-sm t-stu">
                            <span class="text-dark">Total Enrollments: </span><span class="font-weight-bolder mr-1">{{ course.get_user_count_ins }}</span>
                        </div>
                        <div style="margin-left: 3px;margin-right: 2px;">
                        </div>
                        <div class="t-stu p-1 border border-rounded shadow-sm">
                            <span class="text-dark">Average Difficulty: </span><span class="mr-1 font-weight-bolder cplx {{ course.average_complexity|cut:' ' }}">{{ course.average_complexity }}</span>
                        </div>
                    </div>
                    <div class="t-stu mt-1">
                        <div class="border border-rounded p-1 shadow-sm" style="display: inline-block;">
                            <span class="text-dark">Average Difficulty with this instructor: </span><span class="mr-1 font-weight-bolder cplx {{ course.average_complexity_ins|cut:' ' }}">{{ course.average_complexity_ins }}</span>
                        </div>
                    </div>
                </div>
                <div class="d-flex justify-content-between ">
                    <div class="votes-container ">
                        {% include 'home/courses/course_vote.html' with course=course %}
                    </div>
                    <div class="dropdown">
                        <button class="btn btn-sm " type="button" id="d_li" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          <i class="fas fa-ellipsis-h" ></i>
                        </button>
                        <div class="dropdown-menu bg-white dropdown-menu-left mt-1" aria-labelledby="d_li">
                          <button class="small btn no-border dropdown-item"><i class="mr-1 fas fa-bookmark"></i>Save</button>
                          <a class="small btn no-border dropdown-item" style="text-decoration: none;"  href="{% url 'home:course-instructors' course.course_university course.course_code %}"><i class="mr-1 fas fa-chalkboard-teacher"></i>All instructors</a>
                        </div>
                    </div>
                </div> 
            </div>     
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}
