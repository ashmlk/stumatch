{% extends "home/courses/base.html" %}
{% load crispy_forms_tags %}
{% load ibuilder %}
{% load static %}
{% block title %}
<title>{% if uni %}{{ uni|capfirst }} - {% else %}University - {% endif %} JoinCampus</title>
{% endblock %}
{% block content %}
{% if is_empty %}
<div class="card">
    <div class="card-body">
        <div class="d-flex justify-content-center">
            <h6 class="text-muted">The university you were looking for is not found please try again</h6>
        </div>
    </div>
    {% if add_uni %}
    <div class="d-flex justify-content-center">
        <div class="m-2">
            <button style="border-radius: 20px;" class="btn btn-primary d-flex align-items-center mr-1 add-uni-btn" data-url="{% url 'main:update-university' %}?success_url=home">
                <div>
                  <span class="h6"><span style="white-space: nowrap !important;">Add University</span></span>
                </div>
            </button>
        </div>
    </div>
    {% endif %}
</div>
{% else %}
<div class="content">
    <div class="uni-info">
        <div class="m-0 mb-2 border-bottom pb-1 p-0">
            <div class="d-flex align-items-center py-2">
                <div class="logo-all mr-2">
                    {% if logo_path %}
                    {% bg_rand as bgrnd %}
                        <img class="border img-fluid rounded-circle" src="{{ logo_path }}" onerror="this.src=&quot{% static 'default/university/default_university_logo.png'  %}&quot ;this.style.backgroundColor='{{ bgrnd }}'" width="100px" height="100px"/>
                    {% else %}
                    {% bg_rand as bgrnd %}
                        <img class="img-fluid rounded-circle" src="{% static '/default/university/default_university_logo.png' %}" width="100px" height="100px" style="background-color: {{ bgrnd }};"/>
                    {% endif %}
                </div>
                <div class="m-0">
                    <h3 style="font-weight: bolder;">{{ uni|capfirst }}</h3>
                </div>
            </div>        
        </div>
        <div class="info-minor">
            <div class="info-group my-2">
                <div class="d-flex info-title ">
                    <div class="info-title-svg mr-2 align-items-center"> 
                        <svg width="16" height="16" viewBox="0 0 16 16" class="bi bi-geo-alt" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M12.166 8.94C12.696 7.867 13 6.862 13 6A5 5 0 0 0 3 6c0 .862.305 1.867.834 2.94.524 1.062 1.234 2.12 1.96 3.07A31.481 31.481 0 0 0 8 14.58l.208-.22a31.493 31.493 0 0 0 1.998-2.35c.726-.95 1.436-2.008 1.96-3.07zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z"/>
                            <path fill-rule="evenodd" d="M8 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
                          </svg>
                    </div>
                    <div class="pt-1 mx-1 info-title-i">
                        <span>{{ data.country }}</span>
                    </div>
                </div>
            </div>
            <div class="info-group my-2">
                <div class="d-flex info-title ">
                    <div class="info-title-svg mr-2 align-items-center">
                        <svg width="16" height="16" viewBox="0 0 16 16" class="bi bi-book" fill="currentColor"
                            xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd"
                              d="M3.214 1.072C4.813.752 6.916.71 8.354 2.146A.5.5 0 0 1 8.5 2.5v11a.5.5 0 0 1-.854.354c-.843-.844-2.115-1.059-3.47-.92-1.344.14-2.66.617-3.452 1.013A.5.5 0 0 1 0 13.5v-11a.5.5 0 0 1 .276-.447L.5 2.5l-.224-.447.002-.001.004-.002.013-.006a5.017 5.017 0 0 1 .22-.103 12.958 12.958 0 0 1 2.7-.869zM1 2.82v9.908c.846-.343 1.944-.672 3.074-.788 1.143-.118 2.387-.023 3.426.56V2.718c-1.063-.929-2.631-.956-4.09-.664A11.958 11.958 0 0 0 1 2.82z" />
                            <path fill-rule="evenodd"
                              d="M12.786 1.072C11.188.752 9.084.71 7.646 2.146A.5.5 0 0 0 7.5 2.5v11a.5.5 0 0 0 .854.354c.843-.844 2.115-1.059 3.47-.92 1.344.14 2.66.617 3.452 1.013A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.276-.447L15.5 2.5l.224-.447-.002-.001-.004-.002-.013-.006-.047-.023a12.582 12.582 0 0 0-.799-.34 12.96 12.96 0 0 0-2.073-.609zM15 2.82v9.908c-.846-.343-1.944-.672-3.074-.788-1.143-.118-2.387-.023-3.426.56V2.718c1.063-.929 2.631-.956 4.09-.664A11.956 11.956 0 0 1 15 2.82z" />
                          </svg>
                    </div>
                    <div class="mx-1 info-title-i">
                        <span>{{ num_courses }}</span>
                    </div>
                </div>
            </div>
            <div class="info-group my-2">
                <div class="d-flex info-title ">
                    <div class="info-title-svg mr-2 align-items-center">
                        <svg width="16" height="16" viewBox="0 0 16 16" class="bi bi-layers"
                            fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd"
                            d="M3.188 8L.264 9.559a.5.5 0 0 0 0 .882l7.5 4a.5.5 0 0 0 .47 0l7.5-4a.5.5 0 0 0 0-.882L12.813 8l-1.063.567L14.438 10 8 13.433 1.562 10 4.25 8.567 3.187 8z" />
                            <path fill-rule="evenodd"
                                d="M7.765 1.559a.5.5 0 0 1 .47 0l7.5 4a.5.5 0 0 1 0 .882l-7.5 4a.5.5 0 0 1-.47 0l-7.5-4a.5.5 0 0 1 0-.882l7.5-4zM1.563 6L8 9.433 14.438 6 8 2.567 1.562 6z" />
                        </svg>
                    </div>
                    <div class="mx-1 info-title-i">
                        <span>{{ num_instructors }}</span>
                    </div>
                </div>
            </div>
            <div class="info-group my-2">
                <div class="d-flex info-title ">
                    <div class="info-title-svg mr-2 align-items-center">
                        <svg  width="16" height="16"
                            viewBox="0 0 16 16" class="bi bi-person-check"
                            fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd"
                                d="M11 14s1 0 1-1-1-4-6-4-6 3-6 4 1 1 1 1h10zm-9.995-.944v-.002.002zM1.022 13h9.956a.274.274 0 0 0 .014-.002l.008-.002c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664a1.05 1.05 0 0 0 .022.004zm9.974.056v-.002.002zM6 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm6.854.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L12.5 7.793l2.646-2.647a.5.5 0 0 1 .708 0z" />
                        </svg>
                    </div>
                    <div class="mx-1 info-title-i">
                        <span>{{ num_enrolled }}
                            {% if num_enrolled == "No student is enrolled here" %}
                                <span>
                                    <button class="btn btn-sm bg-transparent p-0 no-border" style="margin-bottom: 3px;" type="button"
                                        data-tooltip="tooltip" data-placement="bottom" data-delay='{ "show": 200, "hide": 300 }' title="No student has set {{ uni }} as 
                                            their university. However, students might have taken courses at this school from other places.">
                                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-info-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                            <path d="M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z"/>
                                            <circle cx="8" cy="4.5" r="1"/>
                                          </svg>
                                    </button>
                                </span>
                            {% endif %}
                        </span>
                    </div>
                </div>
            </div>
            <div class="info-group my-2">
                <div class="d-flex info-title align-items-center">
                    <div class="text-primary info-title-svg mr-2">
                        <svg width="16" height="16" viewBox="0 0 16 16" class="bi bi-globe2" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M1.018 7.5h2.49c.037-1.07.189-2.087.437-3.008a9.124 9.124 0 0 1-1.565-.667A6.964 6.964 0 0 0 1.018 7.5zM3.05 3.049c.362.184.763.349 1.198.49.142-.384.304-.744.481-1.078a6.7 6.7 0 0 1 .597-.933A7.01 7.01 0 0 0 3.051 3.05zM8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm-.5 1.077c-.67.204-1.335.82-1.887 1.855-.143.268-.276.56-.395.872.705.157 1.473.257 2.282.287V1.077zm0 4.014c-.91-.03-1.783-.145-2.591-.332a12.344 12.344 0 0 0-.4 2.741H7.5V5.091zm1 2.409V5.091c.91-.03 1.783-.145 2.591-.332.223.827.364 1.754.4 2.741H8.5zm-1 1H4.51c.035.987.176 1.914.399 2.741A13.596 13.596 0 0 1 7.5 10.91V8.5zm1 2.409V8.5h2.99a12.343 12.343 0 0 1-.399 2.741A13.596 13.596 0 0 0 8.5 10.91zm-1 1c-.81.03-1.577.13-2.282.287.12.312.252.604.395.872.552 1.035 1.218 1.65 1.887 1.855V11.91zm-2.173 2.563a6.695 6.695 0 0 1-.597-.933 8.857 8.857 0 0 1-.481-1.078 8.356 8.356 0 0 0-1.198.49 7.01 7.01 0 0 0 2.276 1.52zM2.38 12.175c.47-.258.995-.482 1.565-.667A13.36 13.36 0 0 1 3.508 8.5h-2.49a6.964 6.964 0 0 0 1.362 3.675zm8.293 2.297a7.01 7.01 0 0 0 2.275-1.521 8.353 8.353 0 0 0-1.197-.49 8.859 8.859 0 0 1-.481 1.078 6.688 6.688 0 0 1-.597.933zm.11-2.276A12.63 12.63 0 0 0 8.5 11.91v3.014c.67-.204 1.335-.82 1.887-1.855.143-.268.276-.56.395-.872zm1.272-.688c.57.185 1.095.409 1.565.667A6.964 6.964 0 0 0 14.982 8.5h-2.49a13.355 13.355 0 0 1-.437 3.008zm.437-4.008h2.49a6.963 6.963 0 0 0-1.362-3.675c-.47.258-.995.482-1.565.667.248.92.4 1.938.437 3.008zm-.74-3.96a8.854 8.854 0 0 0-.482-1.079 6.692 6.692 0 0 0-.597-.933c.857.355 1.63.875 2.275 1.521a8.368 8.368 0 0 1-1.197.49zm-.97.264c-.705.157-1.473.257-2.282.287V1.077c.67.204 1.335.82 1.887 1.855.143.268.276.56.395.872z"/>
                          </svg>
                    </div>
                    <div class="mx-1 info-title-i">
                        <div class="weblist">
                            {% for web in data.web_pages %}
                            <div class="ewb-u">
                                <a href="{{ web }}" class="card-link">{{ web }}</a>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>

        </div>      
    </div>
    <div class="link-picker my-3">
        <div class="row py-1 pb-2 px-3 links">
            <div class="col-4 p-0">
                <div class="card border-0 border-bottom bg-transparent">
                    <a class="text-center jc-nav-link  text-muted{{ sa }} text-dark"
                        href="{% url 'home:university-detail' %}?u={{ uni }}&obj=std">
                        Students
                    </a>
                </div>
            </div>
            <div class="col-4 p-0">
                <div class="card border-0 border-bottom bg-transparent">
                    <a class="text-center jc-nav-link  text-muted{{ ca }} text-dark"
                        href="{% url 'home:university-detail' %}?u={{ uni }}&obj=crs">
                        Courses
                    </a>
                </div>
            </div>
            <div class="col-4 p-0">
                <div class="card border-0 border-bottom  bg-transparent">
                     <a class="text-center jc-nav-link text-muted{{ ia }} text-dark" 
                        href="{% url 'home:university-detail' %}?u={{ uni }}&obj=ins">
                       Instructors
                     </a>
                </div>
            </div>
        </div>
    </div>
    <div class="item-list">
        <div class="list-objects">
            {% block list %}{% endblock %}
        </div>
    </div>
</div>
<div class="text-center">
    {{ u_empty }}
</div>

{% endif %}
{% endblock %}