{% extends "home/homepage/base.html" %}
{% load crispy_forms_tags %}
{% load ibuilder %}
{% load static %}
{% block userinfo %}
<div class="pr-2 mb-1 info-all d-none d-lg-block" style="margin-left: -2px !important;">
  <div>
    <div class="card-body">
      <div class="pb-2">
        <div class="pro-img">
          <img class="img-create-post rounded-circle" style="height: 3.6rem;width: 3.6rem;" src="https://mdbootstrap.com/img/Photos/Avatars/avatar-4.jpg"/>
        </div>
        <div>
          <div>
            <strong >{{ request.user.get_full_name }}</strong>
          </div>
          <span class="small text-muted">{{ request.user.program|capfirst }} student at {{ request.user.university|capfirst }}</span>
        </div>       
      </div>
      <div class="pb-2 pro-info-a" style="font-size: 0.88rem;">
        <div class="my-2 d-flex justify-content-between">
          <div>
            <strong class="font-size-smaller">Courses</strong>
          </div>
          <div>
            <span class="navbarMainHeaderuser-num">{{ cnum }}</span>
          </div>
        </div>
        <div class="my-2  d-flex justify-content-between">
          <div>
            <strong class="font-size-smaller">Posts</strong>
          </div>
          <div>
            <span class="navbarMainHeaderuser-num">{{ pnum }}</span>
          </div>
        </div>
        <div class="my-2 d-flex justify-content-between">
          <div>
            <strong class="font-size-smaller">Buzzes</strong>
          </div>
          <div>
            <span class="navbarMainHeaderuser-num">{{ bznum }}</span>
          </div>
        </div>
        <div class="my-2  d-flex justify-content-between">
          <div>
            <strong class="font-size-smaller">Blogs</strong>
          </div>
          <div>
            <span class="navbarMainHeaderuser-num">{{ blnum }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
{% block contentleft %}
<div class="cp-cntr-h pt-2 border-top" style="display: none;">
  <div class="rounded-0 d-flex align-items-center font-weight-bold p-3 mnpglk create-post-btn"
    data-url="{% url 'home:post-create' %}">
    <div class="col-1">
      <svg width="22" height="22" style="margin-top: -2px;" viewBox="0 0 16 16" class="bi bi-plus" fill="currentColor"
        xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd"
          d="M8 3.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H4a.5.5 0 0 1 0-1h3.5V4a.5.5 0 0 1 .5-.5z" />
        <path fill-rule="evenodd" d="M7.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0V8z" />
      </svg>
    </div>
    <div class="col-10 d-none d-lg-block">
      <span  style="margin-top: 3px !important;" class="ml-2">Create Post</span>
    </div>
  </div>
</div>
{% endblock %}
{% block content %}
<link rel="stylesheet" href="{% static 'css/post/style.css' %}">
{% if is_tag %}
<div class="rounded-0 ml-1 card">
  <div class="card-body">
    <div class="d-flex justify-content-between">
      <div>
        <h4 class="card-title">#{{ tag.name }}</h4>
      </div>
      <div class="text-muted">
        <span>{{ num_obj|num_format }} {{ s }}</span>
      </div>
    </div>
    <div class="mt-1 related">
      <div class="d-flex align-items-center justify-content-between">
        <div class="d-flex">
          <div style="margin-top: 0.2rem;">
            <h6 class="text-muted small card-subtitle">Related:
              <span class="related-tags">
                {% for tag in related_tags %}
                <span class="mr-1">
                  <a href="{% url 'home:tag-blog' tag.slug %}" class="text-dark"
                    style="text-decoration: none;">#{{ tag.name }}</a>
                </span>
                {% endfor %}
              </span>
            </h6>
          </div>
        </div>
        <div class="flw-tag-ctr" style="margin: -0.6rem;">
          {% include 'main/tags/fav_post.html' with tag=tag %}
        </div>
      </div>
    </div>
  </div>
</div>
{% else %}
<div class="ml-1 p-1 card rounded-0">
  <div class="d-flex m-1 justify-content-left">
    <div>
      <img class="img-create-post rounded-circle" style="width: 50px;height: 50px;"
        src="https://mdbootstrap.com/img/Photos/Avatars/avatar-5.jpg" alt="Profile image">
    </div>
    <div class="ml-1 w-100" style="height: 4rem;">
      <input type="text" readonly="readonly"
        class="bg-transparent border-0 form-control bg-transparent create-post-btn input-no-border"
        placeholder="What's new?" data-url="{% url 'home:post-create' %}">
    </div>
    <div class="d-flex flex-column justify-content-center">
      <div>
        <button class="ml-1 p-0 btn border btn-sm btn-circle create-post-btn" data-url="{% url 'home:post-create' %}"
          style="border:1px solid rgb(126, 192, 243) !important;">
          <i class="fas fa-2x fa-camera" style="color:  rgb(126, 192, 243);"></i>
        </button>
      </div>
    </div>
  </div>
</div>
{% for f in not_friends %}
<a href="{{ f.get_absolute_url }}">{{ f.username }}</a>
{% endfor %}
<div class="mt-3 mb-2 p-1 ml-1 ">
  <div class="d-flex justify-content-start" id="_pol3">
    <div class="btn d-flex align-items-center mr-1 menu-link menu-link{{home_active}}">
      <a  href="{% url 'home:home' %}" style="text-decoration: none;">
        <div>
          <span class="h6"><span >Feed</span></span>
        </div>
      </a>
    </div>
    <div class="btn d-flex align-items-center mr-1 menu-link" >
      <a  href="#" style="text-decoration: none;">
        <div>
          <span class="h6"><span >Explore</span></span>
        </div>
      </a>
    </div>
    <div class="btn d-flex align-items-center mr-1 menu-link{{ top_active }}"
      data-url="{% url 'home:top-posts' %}" >
      <a  href="{% url 'home:top-posts' %}" style="text-decoration: none;">
        <div>
          <span class="h6">
            <span >Top</span></span>
        </div>
      </a>
    </div>
    <div class="btn d-flex align-items-center mr-1 menu-link{{ hot_active }}"
      data-url="{% url 'home:hot-posts' %}" >
      <a  href="{% url 'home:hot-posts' %}" style="text-decoration: none;">
        <div>
          <span class="h6"><span > Hot</span></span>
        </div>
      </a>
    </div>
    <div class="btn d-flex align-items-center mr-1 menu-link{{ uni_active }}" data-url="{% url 'home:uni-posts' %}">
      <a  href="{% url 'home:uni-posts' %}" style="text-decoration: none;">
        <div>
          <span class="h6"><span >University</span></span>
        </div>
      </a>
    </div>
  </div>
</div>
{% endif %}
<div id="post-list">
  <div>
    {% include 'home/posts/home_post.html' %}
  </div>
</div>
<script src="{% static 'js/post/post.js' %}"></script>
{% endblock content %}
{% block item %}
{% if is_home %}
{% if tags or words %}
<div class="le_m_bx">
  <div class="card border-0" style="background-color: rgba(210, 230, 248, 0.356); border-radius: 20px;">
    <div class="content-holder">
      <div class="pl-3 pr-3 pt-3 border-bottom">
        <div>
          <h5 class="font-weight-bolder card-title">Trending</h5>
        </div>
      </div>
      <div id="menureform">
        {% for tag in tags %}
        <div class="shdv" data-url="{% url 'home:tag-post' tag.slug %}"
          class="trending-box-r mnpglk pl-3 pr-3 pb-1 pt-2 border-bottom">
          <a href="{% url 'home:tag-post' tag.slug %}" class="card-link text-dark"><strong>#{{ tag.name }}</strong></a>
          <br>
          <span class="card-subtitle small">{{ tag.num_times|num_format }} Posts</span>
        </div>
        {% endfor %}
        {% for word in words %}
        <div class="shdv mnpgl search-btn" data-target="sd3f0v">
          <form id="sd3f0v" action="{% url 'home:top-word-post' %}" method="GET"
            class="strending-box-r pl-3 pr-3 pb-1 pt-2 border-bottom">
            <input name="w" value="{{ word }}" type="hidden" />
            <div>
              <span class="text-muted mx-2 my-0 small">Trending in posts</span>
            </div>
            <button class="btn btn-md no-border no-outline" type="submit">
              <strong>{{ word|capfirst }}</strong>
            </button>
          </form>
        </div>
        {% endfor %}
      </div>
    </div>
    <div class="pl-3 pr-3 pb-1 pt-1 m-1"></div>
  </div>
</div>
{% endif %}
{% endif %}
{% endblock %}