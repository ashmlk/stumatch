{% extends "home/homepage/base.html" %}
{% load crispy_forms_tags %}
{% load ibuilder %}
{% load static %}
{% block contentleft %}
<div class="cp-cntr-h pt-2 border-top" style="display: none;">
  <div class="rounded d-flex align-items-center font-weight-bold p-3 mnpglk create-post-btn" data-url="{% url 'home:post-create' %}">
    <div class="col-1">
      <svg width="22" height="22" style="margin-top: -2px;" viewBox="0 0 16 16" class="bi bi-plus" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" d="M8 3.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H4a.5.5 0 0 1 0-1h3.5V4a.5.5 0 0 1 .5-.5z"/>
        <path fill-rule="evenodd" d="M7.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0V8z"/>
      </svg>
    </div>
    <div class="col-10 d-none d-lg-block">
      <span class="ml-2" style="margin-top: 3px !important;">Create Post</span>
    </div>
  </div>
</div>
{% endblock %}
{% block content %}
<link rel="stylesheet" href="{% static 'css/post/style.css' %}">
{% if is_tag %}
<div class="rounded-0 ml-1 card">
  <div class="card-body">
    <div class="d-flex justify-content-between">
      <div>
        <h4 class="card-title">#{{ tag.name }}</h4>
      </div>
      <div class="text-muted">
        <span>{{ num_obj|num_format }} {{ s }}</span>
      </div>
    </div>
    <div class="mt-1 related">
      <div class="d-flex align-items-center justify-content-between">
        <div class="d-flex">
          <div style="margin-top: 0.2rem;">
            <h6 class="text-muted small card-subtitle">Related:
              <span class="related-tags">
                {% for tag in related_tags %}
                <span class="mr-1">
                  <a href="{% url 'home:tag-blog' tag.slug %}" class="text-dark"
                    style="text-decoration: none;">#{{ tag.name }}</a>
                </span>
                {% endfor %}
              </span>
            </h6>
          </div>
          <div class="small ml-2">
            <!-- Display Related tags -->
          </div>
        </div>
        <div class="flw-tag-ctr" style="margin: -0.6rem;">
          {% include 'main/tags/fav_post.html' with tag=tag %}
        </div>
      </div>
    </div>
  </div>
</div>
{% else %}
<div class="ml-1 p-1 card rounded-0">
  <div class="d-flex m-1 justify-content-left">
    <div>
      <img class="img-create-post rounded-circle" style="width: 50px;height: 50px;"
        src="https://mdbootstrap.com/img/Photos/Avatars/avatar-5.jpg" alt="Profile image">
    </div>
    <div class="ml-1 w-100" style="height: 4rem;">
      <input type="text" readonly="readonly"
        class="bg-transparent border-0 form-control bg-transparent create-post-btn input-no-border" placeholder="What's new {{ request.user.first_name }}?"
        data-url="{% url 'home:post-create' %}">
    </div>
    <div class="d-flex flex-column justify-content-center">
      <div>
        <button class="ml-1 p-0 btn border btn-sm btn-circle create-post-btn" data-url="{% url 'home:post-create' %}"
          style="border:1px solid rgb(126, 192, 243) !important;">
          <i class="fas fa-2x fa-camera" style="color:  rgb(126, 192, 243);"></i>
        </button>
      </div>
    </div>
  </div>
</div>
<div class="mt-2 mb-2 p-1 ml-1 ">
  <div class="d-flex justify-content-start" id="_pol3">
    <div class="d-flex align-items-center card border-primary p-2 mr-3 menu-link{{home_active}}" style="border-radius: 20px;">
      <a href="{% url 'home:home' %}" style="text-decoration: none;">
      <div>
        <span class="h6"><svg style="margin-top: -2px !important;" class="bi bi-layout-wtf" width="1em" height="1em"
          viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd"
            d="M5 1H1v8h4V1zM1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1H1zm13 2H9v5h5V2zM9 1a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H9zM5 13H3v2h2v-2zm-2-1a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3zm12-1H9v2h6v-2zm-6-1a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H9z" />
        </svg><span class="ml-2">Feed</span></span>
      </div>
    </a>
    </div>
    <div class="d-flex align-items-center card border-primary p-2  mr-3 menu-link" style="border-radius: 20px;">
      <a href="#" style="text-decoration: none;">
        <div>
          <span class="h6"><svg style="margin-top: -2px !important;margin-left: 0.7rem; transform: rotate(35deg);" width="1em" height="1em" viewBox="0 0 16 16"
            class="bi ml-32bi-binoculars" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd"
              d="M3 2.5A1.5 1.5 0 0 1 4.5 1h1A1.5 1.5 0 0 1 7 2.5V5h2V2.5A1.5 1.5 0 0 1 10.5 1h1A1.5 1.5 0 0 1 13 2.5v2.382a.5.5 0 0 0 .276.447l.895.447A1.5 1.5 0 0 1 15 7.118V14.5a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 14.5v-3a.5.5 0 0 1 .146-.354l.854-.853V9.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v.793l.854.853A.5.5 0 0 1 7 11.5v3A1.5 1.5 0 0 1 5.5 16h-3A1.5 1.5 0 0 1 1 14.5V7.118a1.5 1.5 0 0 1 .83-1.342l.894-.447A.5.5 0 0 0 3 4.882V2.5zM4.5 2a.5.5 0 0 0-.5.5V3h2v-.5a.5.5 0 0 0-.5-.5h-1zM6 4H4v.882a1.5 1.5 0 0 1-.83 1.342l-.894.447A.5.5 0 0 0 2 7.118V13h4v-1.293l-.854-.853A.5.5 0 0 1 5 10.5v-1A1.5 1.5 0 0 1 6.5 8h3A1.5 1.5 0 0 1 11 9.5v1a.5.5 0 0 1-.146.354l-.854.853V13h4V7.118a.5.5 0 0 0-.276-.447l-.895-.447A1.5 1.5 0 0 1 12 4.882V4h-2v1.5a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V4zm4-1h2v-.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5V3zm4 11h-4v.5a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5V14zm-8 0H2v.5a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5V14z" />
          </svg><span class="ml-2">Explore</span></span>
        </div>
      </a>
    </div>
    <div class="d-flex align-items-center card border-primary p-2 mr-3 menu-link{{ top_active }}"
      data-url="{% url 'home:top-posts' %}" style="border-radius: 20px;">
      <a href="{% url 'home:top-posts' %}" style="text-decoration: none;">
        <div>
          <span class="h6">
            <svg style="margin-top: -2px !important;" class="bi bi-bar-chart" width="1em" height="1em" viewBox="0 0 16 16"
            fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd"
              d="M4 11H2v3h2v-3zm5-4H7v7h2V7zm5-5h-2v12h2V2zm-2-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1h-2zM6 7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7zm-5 4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-3z" />
          </svg><span class="ml-2">Top</span></span>
        </div>
      </a>
    </div>
    <div class="d-flex align-items-center card border-primary p-2 menu-link{{ hot_active }}" data-url="{% url 'home:hot-posts' %}"
      style="border-radius: 20px;">
      <a href="{% url 'home:hot-posts' %}" style="text-decoration: none;">
        <div>
          <span class="h6"><svg style="margin-top: -3px !important; margin-right:-1px !important; "
            class="bi bi-chevron-double-up" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor"
            xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd"
              d="M7.646 2.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 3.707 2.354 9.354a.5.5 0 1 1-.708-.708l6-6z" />
            <path fill-rule="evenodd"
              d="M7.646 6.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 7.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z" />
          </svg><span class="ml-2"> Hot</span></span>
        </div>
      </a>
    </div>
  </div>
</div>
{% endif %}
<div id="post-list">
  <div>
    {% include 'home/posts/home_post.html' %}
  </div>
</div>
<script src="{% static 'js/post/post.js' %}"></script>
{% endblock content %}
{% block item %}
{% if is_home %}
{% if tags or words %}
<div class="le_m_bx">
  <div class="card border-0" style="background-color: rgba(210, 230, 248, 0.356); border-radius: 20px;">
    <div class="content-holder">
      <div class="pl-3 pr-3 pt-3 border-bottom">
        <div>
          <h5 class="font-weight-bolder card-title">Trending</h5>
        </div>
      </div>
      <div id="menureform">
        {% for tag in tags %}
        <div class="shdv" data-url="{% url 'home:tag-post' tag.slug %}"
          class="trending-box-r mnpglk pl-3 pr-3 pb-1 pt-2 border-bottom">
          <a href="{% url 'home:tag-post' tag.slug %}" class="card-link text-dark"><strong>#{{ tag.name }}</strong></a>
          <br>
          <span class="card-subtitle small">{{ tag.num_times|num_format }} Posts</span>
        </div>
        {% endfor %}
        {% for word in words %}
        <div class="shdv mnpgl search-btn" data-target="sd3f0v">
          <form id="sd3f0v" action="{% url 'home:top-word-post' %}" method="GET"
            class="strending-box-r pl-3 pr-3 pb-1 pt-2 border-bottom">
            <input name="w" value="{{ word }}" type="hidden" />
            <div>
              <span class="text-muted mx-2 my-0 small">Trending in posts</span>
            </div>
            <button class="btn btn-md no-border no-outline" type="submit">
              <strong>{{ word|capfirst }}</strong>
            </button>
          </form>
        </div>
        {% endfor %}
      </div>
    </div>
    <div class="pl-3 pr-3 pb-1 pt-1 m-1"></div>
  </div>
</div>
{% endif %}
{% endif %}
{% endblock %}