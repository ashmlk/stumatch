{% extends "home/homepage/base.html" %}
{% load crispy_forms_tags %}
{% load ibuilder %}
{% load static %}
  {% block contentleft %}
  <div class="cp-cntr-h" style="display: none;">
    <div class="row h5 rounded font-weight-bold p-3  create-post-btn mnpglk" data-url="{% url 'home:post-create' %}">
      <div class="col-2">
        <i class="btn-light btn-b-circle material-icons" style="font-size: 28px; ">add</i>
      </div>
      <div class="col-10 mt-2">
        <span class="ml-2">Create Post</span>
      </div>
    </div>
  </div>
  {% endblock %}
{% block content %}
<link rel="stylesheet" href="{% static 'css/post/style.css' %}">
{% if is_tag %}
<div class="rounded-0 ml-1 card">
  <div class="card-body">
    <div class="d-flex justify-content-between">
      <div>
        <h4 class="card-title">#{{ tag.name }}</h4>
      </div>
      <div class="text-muted">
        <span>{{ num_obj|num_format }} {{ s }}</span>
      </div>
    </div>
    <div class="mt-1 related">
      <div class="d-flex align-items-center justify-content-between">
        <div class="d-flex">
          <div style="margin-top: 0.2rem;">
            <h6 class="text-muted small card-subtitle">Related:
              <span class="related-tags">
                {% for tag in related_tags %}
                <span class="mr-1">
                  <a href="{% url 'home:tag-blog' tag.slug %}"  class="text-dark" style="text-decoration: none;">#{{ tag.name }}</a>
                  </span>
                {% endfor %} 
              </span>
             </h6>
          </div>
          <div class="small ml-2">
            <!-- Display Related tags -->
          </div>
        </div>
        <div class="flw-tag-ctr" style="margin: -0.6rem;">
          {% include 'main/tags/fav_post.html' with tag=tag %}
        </div>
      </div>
    </div>
  </div>
</div>
{% else %}
  <div class="ml-1 p-1 card rounded-0">
    <div class="d-flex m-1 justify-content-left" >
      <div>
        <img class="img-create-post rounded-circle" style="width: 40px;height: 40px;" src="https://mdbootstrap.com/img/Photos/Avatars/avatar-5.jpg"
        alt="Profile image">
      </div>
      <div class="ml-1 w-100" style="background-color:rgb(247, 247, 247); border-radius:20px;">
        <input type="text" readonly="readonly" class="bg-transparent border-0 form-control create-post-btn input-no-border" placeholder="What's new?"  data-url="{% url 'home:post-create' %}">
      </div>
      <div class="d-flex flex-column justify-content-center">
        <div>
          <button class="ml-1 p-0 btn border btn-sm btn-circle create-post-btn"  data-url="{% url 'home:post-create' %}" style="border:1px solid rgb(126, 192, 243) !important;">
            <i class="fas fa-2x fa-camera" style="color:  rgb(126, 192, 243);"></i>
          </button>
        </div>
      </div>
    </div>  
</div>
<div class="mt-2 mb-2 card p-1 ml-1 rounded-0 ">
  <div class="d-flex justify-content-start" id="_pol3">
    <div class="p-2 rounded-0 mr-2 menu-link">
      <a href="#" class="card-link h6  text-dark"><svg  style="margin-top: -2px !important;" class="bi bi-layout-wtf" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" d="M5 1H1v8h4V1zM1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1H1zm13 2H9v5h5V2zM9 1a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H9zM5 13H3v2h2v-2zm-2-1a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3zm12-1H9v2h6v-2zm-6-1a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H9z"/>
      </svg><span class="ml-2">Feed</span></a>
    </div>
    <div class="p-2 rounded-0 mr-2 menu-link">
      <a href="#" class="card-link h6  text-dark"><svg style="margin-top: -2px !important;" class="bi bi-bar-chart" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" d="M4 11H2v3h2v-3zm5-4H7v7h2V7zm5-5h-2v12h2V2zm-2-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1h-2zM6 7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7zm-5 4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-3z"/>
      </svg><span class="ml-2">Top</span></a>
    </div>
    <div class="p-2 rounded-0 mr-2 menu-link">
      <a href="#" class="card-link h6  text-dark"><svg style="margin-top: -3px !important; margin-right:-1px !important;" class="bi bi-chevron-double-up" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" d="M7.646 2.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 3.707 2.354 9.354a.5.5 0 1 1-.708-.708l6-6z"/>
        <path fill-rule="evenodd" d="M7.646 6.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 7.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"/>
      </svg><span class="ml-2"> Hot</span></a>
    </div>
  </div> 
</div>
{% endif %}
<hr class="mb-2">
<div id="post-list">
  <div>
    {% include 'home/posts/home_post.html' %}
  </div>
</div>
<script src="{% static 'js/post/post.js' %}"></script>
{% endblock content %}
{% block item %}
{% if is_home %}
<div class="le_m_bx">
  <div class="card border-0" style="background-color: rgba(210, 230, 248, 0.356); border-radius: 20px;">
    <div class="content-holder">
      <div class="pl-3 pr-3 pt-3 border-bottom">
          <div>
            <h5 class="font-weight-bolder card-title">Trending</h5>
          </div>
      </div>
      {% for tag in tags %}
      <div data-url="{% url 'home:tag-post' tag.slug %}" class="mnpglk pl-3 pr-3 pb-1 pt-2 border-bottom">
        <a href="{% url 'home:tag-post' tag.slug %}"  class="card-link text-dark">#{{tag.name}}</a>
        <br>
        <span class="card-subtitle small">{{ tag.num_times|num_format }} Posts</span>
      </div>
      {% endfor %}
      <div class="pl-3 pr-3 pb-1 pt-1 m-1"></div>
    </div>
  </div>
</div>
{% endif %}
{% endblock %}
